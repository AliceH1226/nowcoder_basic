//https://ac.nowcoder.com/acm/contest/549/E


#include<bits/stdc++.h>
using namespace std;
typedef long long ll;
typedef vector<ll>vec;
typedef vector<vec>mat;

const int N=105;
const ll mod=1e9+7;
int n,m,k,s,u,v;
ll ans;

mat mul(mat a,mat b)
{
    mat c(a.size(),vec(b[0].size()));
    for(int i=0;i<a.size();i++)
        for(int k=0;k<b.size();k++)
        for(int j=0;j<b[0].size();j++)
        c[i][j]=(c[i][j]+a[i][k]*b[k][j]%mod)%mod;
    return c;
}

mat qpow(mat a,int b)
{
    mat res(a.size(),vec(a.size()));
    for(int i=0;i<a.size();i++)res[i][i]=1;
    while(b)
    {
        if(b&1)res=mul(res,a);
        a=mul(a,a);
        b>>=1;
    }
    return res;
}

int main()
{
    scanf("%d%d%d%d",&n,&m,&k,&s);
    mat A(n,vec(n));
    for(int i=0;i<n;i++)
        for(int j=0;j<n;j++)
        A[i][j]=0;
    while(m--){scanf("%d%d",&u,&v);A[u-1][v-1]++;}
    A=qpow(A,k);
    for(int i=0;i<n;i++)
        if(i!=s-1)
    {
        ans=(ans+A[s-1][i])%mod;
    }
    printf("%lld\n",ans);
}
